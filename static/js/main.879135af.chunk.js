(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{112:function(e,t){},144:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(34),i=n.n(r),a=n(10),o=n.n(a),s=n(22),l=n(16),u=n(8),j=n(23),d=n(42),h=n(43),b=(n(90),n(46)),O=n(11),p=n(9),x=n(18),f=n(28),v=n(81),g=n(82),m=n(91),y=n(111),S=new(function(){function e(){Object(v.a)(this,e)}return Object(g.a)(e,[{key:"login",value:function(e,t){var n=y.AES.encrypt(t,"chiaveSegreta").toString();return m.post("https://enigmatic-citadel-68348.herokuapp.com/api/users/",{username:e,password:t?n:""})}},{key:"signup",value:function(e,t){var n=y.AES.encrypt(t,"chiaveSegreta").toString();return m.put("https://enigmatic-citadel-68348.herokuapp.com/api/users/".concat(e),{password:t?n:""})}},{key:"getEvents",value:function(e){return m.get("https://enigmatic-citadel-68348.herokuapp.com/api/events/".concat(e))}},{key:"hideNotice",value:function(e,t,n){return m.post("https://enigmatic-citadel-68348.herokuapp.com/api/notices/",{username:e,date:t,notice:n})}},{key:"hideLesson",value:function(e,t,n){return m.post("https://enigmatic-citadel-68348.herokuapp.com/api/lessons/",{username:e,date:t,lesson:n})}},{key:"hideOfficehours",value:function(e,t,n){return m.post("https://enigmatic-citadel-68348.herokuapp.com/api/officehours/",{username:e,date:t,officehours:n})}},{key:"getHidedInfo",value:function(e,t){return m.get("https://enigmatic-citadel-68348.herokuapp.com/api/users/".concat(e,"/events/").concat(t))}},{key:"removeEvent",value:function(e,t,n,c){return m.post("https://enigmatic-citadel-68348.herokuapp.com/api/events/",{username:e,date:t,eventType:n,event:c})}}]),e}()),k=n(1),w=function(e){var t=Object(c.useState)(""),n=Object(u.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)(""),o=Object(u.a)(a,2),s=o[0],l=o[1],d=Object(c.useState)(!1),h=Object(u.a)(d,2),b=h[0],O=h[1],v=Object(c.useState)(""),g=Object(u.a)(v,2),m=g[0],y=g[1],w=Object(c.useRef)(null);Object(c.useEffect)((function(){document.title="Login - Eventi UniVR",w.current.focus()}),[]);var z=function(){S.login(r,s).then((function(t){e.login({username:r,password:s}),e.history.push("/")})).catch((function(e){var t;t=e.response.data.error,y(t),O(!0)}))};return Object(k.jsxs)(j.a,{children:[Object(k.jsx)("h1",{children:"Benvenuto nella pagina di login!"}),Object(k.jsxs)(p.a,{children:[Object(k.jsxs)(p.a.Group,{className:"mb-3",controlId:"formUsername",children:[Object(k.jsx)(p.a.Label,{children:"Inserisci il tuo username:"}),Object(k.jsx)(p.a.Control,{type:"text",placeholder:"Username",value:r,onChange:function(e){var t=e.target.value;i(t)},ref:w,"aria-required":"true"})]}),Object(k.jsxs)(p.a.Group,{className:"mb-3",controlId:"formPassword",children:[Object(k.jsx)(p.a.Label,{children:"Inserisci la tua password:"}),Object(k.jsx)(p.a.Control,{type:"password",placeholder:"Password",value:s,onChange:function(e){var t=e.target.value;l(t)},"aria-required":"true",onKeyPress:function(e){"Enter"===e.key&&z()}})]}),Object(k.jsx)(x.a,{variant:"primary",onClick:z,children:"Invia"})]}),Object(k.jsxs)(f.a,{show:b,onHide:function(){l(""),O(!1)},autoFocus:!0,"aria-labelledby":"modal-body",children:[Object(k.jsx)(f.a.Header,{closeButton:!0,closeLabel:"Chiudi",children:Object(k.jsx)(f.a.Title,{children:"Attenzione!"})}),Object(k.jsx)(f.a.Body,{id:"modal-body",children:m})]})]})},z=function(e){var t=Object(c.useState)(""),n=Object(u.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)(""),o=Object(u.a)(a,2),s=o[0],l=o[1],d=Object(c.useState)(""),h=Object(u.a)(d,2),b=h[0],O=h[1],v=Object(c.useState)(!1),g=Object(u.a)(v,2),m=g[0],y=g[1],w=Object(c.useState)(""),z=Object(u.a)(w,2),C=z[0],N=z[1],I=Object(c.useRef)(null);Object(c.useEffect)((function(){document.title="Registrazione - Eventi UniVR",I.current.focus()}),[]);var L=function(e){N(e),y(!0)},E=function(){r&&s&&b&&s===b?S.signup(r,s).then((function(t){e.login({username:r,password:s}),e.history.push("/")})).catch((function(e){L(e.response.data.error)})):L(s&&b&&s!==b?"Hai inserito due password diverse.":"Compilare tutti i campi.")};return Object(k.jsxs)(j.a,{children:[Object(k.jsx)("h1",{children:"Benvenuto nella pagina di registrazione!"}),Object(k.jsxs)(p.a,{children:[Object(k.jsxs)(p.a.Group,{className:"mb-3",controlId:"formUsername",children:[Object(k.jsx)(p.a.Label,{children:"Scegli il tuo username:"}),Object(k.jsx)(p.a.Control,{type:"text",placeholder:"Username",value:r,onChange:function(e){var t=e.target.value;i(t)},ref:I,"aria-required":"true"})]}),Object(k.jsxs)(p.a.Group,{className:"mb-3",controlId:"formPassword",children:[Object(k.jsx)(p.a.Label,{children:"Scegli la tua password:"}),Object(k.jsx)(p.a.Control,{type:"password",placeholder:"Password",value:s,onChange:function(e){var t=e.target.value;l(t)},"aria-required":"true"})]}),Object(k.jsxs)(p.a.Group,{className:"mb-3",controlId:"formPasswordCheck",children:[Object(k.jsx)(p.a.Label,{children:"Conferma la tua password:"}),Object(k.jsx)(p.a.Control,{type:"password",placeholder:"Conferma password",value:b,onChange:function(e){var t=e.target.value;O(t)},"aria-required":"true",onKeyPress:function(e){"Enter"===e.key&&E()}})]}),Object(k.jsx)(x.a,{variant:"primary",onClick:E,children:"Invia"})]}),Object(k.jsxs)(f.a,{show:m,onHide:function(){O(""),y(!1)},autoFocus:!0,"aria-labelledby":"modal-body",children:[Object(k.jsx)(f.a.Header,{closeButton:!0,closeLabel:"Chiudi",children:Object(k.jsx)(f.a.Title,{children:"Attenzione!"})}),Object(k.jsx)(f.a.Body,{id:"modal-body",children:C})]})]})},C=n(25),N=n(40),I=n(24),L=(new Date).toISOString().split("T")[0],E=function(e){return new Date(e).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"})},D=function(e){return"".concat(e.tipo," ").concat(e.nome,", Ca' Vignal ").concat(e.idEdificio)},T=function(e){var t=document.createElement("p");return t.innerHTML=e,t.innerText},A=function(e){var t=Object(c.useState)(L),n=Object(u.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)([]),s=Object(u.a)(a,2),d=s[0],h=s[1],b=Object(c.useState)([]),O=Object(u.a)(b,2),x=O[0],f=O[1],v=Object(c.useState)([]),g=Object(u.a)(v,2),m=g[0],y=g[1];return Object(c.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.getEvents(r).then((function(e){var t=e.data;return{notices:t.notices,lessons:t.lessons.value,officehours:t.officehours.value}})).catch((function(e){return console.log(e),{notices:[],lessons:[],officehours:[]}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then((function(e){h(e.notices),f(e.lessons),y(e.officehours)}),(function(e){console.log(e)}))}),[r]),Object(k.jsxs)(j.a,{children:[Object(k.jsx)("h1",{children:"Ciao!"}),Object(k.jsx)("p",{children:"Se vuoi personalizzare questa pagina clicca su 'Registrati' oppure 'Accedi' se ti sei gi\xe0 iscritto a questa applicazione."}),Object(k.jsxs)(p.a.Group,{className:"mb-3",controlId:"formCalendar",children:[Object(k.jsx)(p.a.Label,{children:"Seleziona una data dal calendario sottostante per vedere avvisi, lezioni e ricevimenti di quel giorno:"}),Object(k.jsx)(p.a.Control,{className:"halfCal",type:"date",value:r,onChange:function(t){var n=t.target.value,c=new Date(n).toISOString().split("T")[0];i(c),e.selectedDate(c)},max:L,required:!0})]}),Object(k.jsxs)(N.a,{defaultActiveKey:"avvisi",id:"events-tabs",children:[Object(k.jsxs)(I.a,{eventKey:"avvisi",title:"Avvisi",children:[Object(k.jsxs)(C.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Data di pubblicazione"}),Object(k.jsx)("th",{children:"Titolo"}),Object(k.jsx)("th",{children:"Testo"}),Object(k.jsx)("th",{children:"Mittenti"})]})}),Object(k.jsx)("tbody",{children:d.map((function(e,t){if(0!==e.length){var n=new Date(e.dataPubblicazione).toLocaleString(navigator.language,{weekday:"long",year:"numeric",month:"long",day:"numeric"});return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:n}),Object(k.jsx)("td",{children:e.titolo}),Object(k.jsx)("td",{children:T(e.testo)}),Object(k.jsx)("td",{children:e.mittenti})]},"notices-".concat(r,"-").concat(t))}return Object(k.jsx)("tr",{},"notices-".concat(r,"-").concat(t))}))})]}),0===d.length?Object(k.jsx)("p",{children:"Non ci sono avvisi da mostrare!"}):Object(k.jsx)("p",{})]}),Object(k.jsxs)(I.a,{eventKey:"lezioni",title:"Lezioni",children:[Object(k.jsxs)(C.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Insegnamento, Docente, Corso di Studi"}),Object(k.jsx)("th",{children:"Ora"}),Object(k.jsx)("th",{children:"Luogo"})]})}),Object(k.jsx)("tbody",{children:x.map((function(e,t){var n=null,c=null,i=null;return 0!==e.length&&(n=e.nome.replace("##",", ").replace("\\n"," ").replace("@",", ").replace("||",""),0!==e.intervallo.length&&(c="".concat(E(e.intervallo[0].oraInizio)," - ").concat(E(e.intervallo[0].oraFine)),0!==e.intervallo[0].luogo.length&&(i=D(e.intervallo[0].luogo[0])))),Object(k.jsxs)("tr",{children:[n?Object(k.jsx)("td",{children:n}):Object(k.jsx)("td",{}),c?Object(k.jsx)("td",{children:c}):Object(k.jsx)("td",{}),i?Object(k.jsx)("td",{children:i}):Object(k.jsx)("td",{})]},"lessons-".concat(r,"-").concat(t))}))})]}),0===x.length?Object(k.jsx)("p",{children:"Non ci sono lezioni da mostrare!"}):Object(k.jsx)("p",{})]}),Object(k.jsxs)(I.a,{eventKey:"ricevimenti",title:"Ricevimenti",children:[Object(k.jsxs)(C.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Nome"}),Object(k.jsx)("th",{children:"Note"}),Object(k.jsx)("th",{children:"Ora"}),Object(k.jsx)("th",{children:"Luogo"})]})}),Object(k.jsx)("tbody",{children:m.map((function(e,t){var n=null,c=null,i=null,a=null;return 0!==e.length&&(n=e.nome,c=e.note,0!==e.intervallo.length&&(i="".concat(E(e.intervallo[0].oraInizio)," - ").concat(E(e.intervallo[0].oraFine)),0!==e.intervallo[0].luogo.length&&(a=D(e.intervallo[0].luogo[0])))),Object(k.jsxs)("tr",{children:[n?Object(k.jsx)("td",{children:n}):Object(k.jsx)("td",{}),c?Object(k.jsx)("td",{children:T(c)}):Object(k.jsx)("td",{}),i?Object(k.jsx)("td",{children:i}):Object(k.jsx)("td",{}),a?Object(k.jsx)("td",{children:a}):Object(k.jsx)("td",{})]},"officehours-".concat(r,"-").concat(t))}))})]}),0===m.length?Object(k.jsx)("p",{children:"Non ci sono ricevimenti da mostrare!"}):Object(k.jsx)("p",{})]})]})]})},R=(n(79),(new Date).toISOString().split("T")[0]),B=function(e){return new Date(e).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"})},K=function(e){return"".concat(e.tipo," ").concat(e.nome,", Ca' Vignal ").concat(e.idEdificio)},P=function(e){var t=document.createElement("p");return t.innerHTML=e,t.innerText},q=function(e){var t=Object(c.useState)((function(){var t=localStorage.getItem("date");return t?JSON.parse(t).date:e.date})),n=Object(u.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)([]),s=Object(u.a)(a,2),d=s[0],h=s[1],b=Object(c.useState)([]),O=Object(u.a)(b,2),f=O[0],v=O[1],g=Object(c.useState)([]),m=Object(u.a)(g,2),y=m[0],w=m[1],z=Object(c.useState)(0),L=Object(u.a)(z,2),E=L[0],D=L[1];function T(e){return A.apply(this,arguments)}function A(){return(A=Object(l.a)(o.a.mark((function t(n){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.user){t.next=2;break}return t.abrupt("return");case 2:c=n.split("-")[0],t.t0=c,t.next="notices"===t.t0?6:"lessons"===t.t0?8:"officehours"===t.t0?10:12;break;case 6:return S.hideNotice(e.user.username,r,d[n[n.length-1]]).then((function(e){console.log(e.status)})).catch((function(e){console.log(e)})),t.abrupt("break",14);case 8:return S.hideLesson(e.user.username,r,f[n[n.length-1]]).then((function(e){console.log(e.status)})).catch((function(e){console.log(e)})),t.abrupt("break",14);case 10:return S.hideOfficehours(e.user.username,r,y[n[n.length-1]]).then((function(e){console.log(e.status)})).catch((function(e){console.log(e)})),t.abrupt("break",14);case 12:return console.log("evento non trovato"),t.abrupt("break",14);case 14:D(E+1);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(){return(q=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.selectedDate(n),e.history.push("/hidedInfo");case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){function t(){return(t=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.getEvents(r).then((function(e){var t=e.data;return{notices:t.notices,lessons:t.lessons.value,officehours:t.officehours.value}})).catch((function(e){return console.log(e),{notices:[],lessons:[],officehours:[]}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(l.a)(o.a.mark((function t(n){var c,i,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.notices,i=n.lessons,a=n.officehours,s=function(e,t){var n=!0;for(var c in t)if(e===t[c]){n=!1;break}return n},t.abrupt("return",S.getHidedInfo(e.user.username,r).then((function(e){var t=e.data,n=[],r=[],o=[];for(var l in t){var u=t[l].tipo,j=t[l].info;"notices"===u?n.push(j.titolo):"lessons"===u?r.push(j.nome):"officehours"===u&&o.push(j.nome)}var d=c.filter((function(e){return s(e.titolo,n)}));h(d);var b=i.filter((function(e){return s(e.nome,r)}));v(b);var O=a.filter((function(e){return s(e.nome,o)}));w(O)})).catch((function(e){console.log(e),h(c),v(i),w(a)})));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().then((function(e){(function(e){return n.apply(this,arguments)})(e).then((function(){return console.log("eseguito")}),(function(e){return console.log(e)}))}),(function(e){console.log(e)}))}),[r,E]),Object(k.jsxs)(j.a,{children:[Object(k.jsxs)("h1",{children:["Ciao, ",e.user.username,"!"]}),Object(k.jsx)("p",{children:"Puoi personalizzare la pagina nascondendo avvisi, lezioni e ricevimenti che non ti interessano cliccando sui pulsanti nella colonna 'Rimuovi'."}),Object(k.jsx)("p",{children:"Clicca sul bottone sottostante per mostrare le informazioni che hai nascosto in precedenza e avrai la possibilit\xe0 di ripristinarle:"}),Object(k.jsx)("p",{children:Object(k.jsx)(x.a,{onClick:function(){return function(e){return q.apply(this,arguments)}(r).then((function(){return console.log("passato")}),(function(e){return console.log(e)}))},children:"Info rimosse"})}),Object(k.jsx)(p.a,{children:Object(k.jsxs)(p.a.Group,{className:"mb-3",controlId:"formCalendar",children:[Object(k.jsx)(p.a.Label,{children:"Seleziona una data dal calendario sottostante per vedere avvisi, lezioni e ricevimenti di quel giorno:"}),Object(k.jsx)(p.a.Control,{className:"halfCal",type:"date",value:r,onChange:function(t){var n=t.target.value,c=new Date(n).toISOString().split("T")[0];i(c),e.selectedDate(c)},max:R,required:!0})]})}),Object(k.jsxs)(N.a,{defaultActiveKey:"avvisi",id:"events-tabs",children:[Object(k.jsxs)(I.a,{eventKey:"avvisi",title:"Avvisi",children:[Object(k.jsxs)(C.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Data di pubblicazione"}),Object(k.jsx)("th",{children:"Titolo"}),Object(k.jsx)("th",{children:"Testo"}),Object(k.jsx)("th",{children:"Mittenti"}),Object(k.jsx)("th",{children:"Rimuovi"})]})}),Object(k.jsx)("tbody",{children:d.map((function(e,t){if(0!==e.length){var n=new Date(e.dataPubblicazione).toLocaleString(navigator.language,{weekday:"long",year:"numeric",month:"long",day:"numeric"});return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:n}),Object(k.jsx)("td",{children:e.titolo}),Object(k.jsx)("td",{children:P(e.testo)}),Object(k.jsx)("td",{children:e.mittenti}),Object(k.jsx)("td",{className:"centerButton",children:Object(k.jsx)(x.a,{variant:"danger",size:"sm","aria-label":"rimuovi",onClick:function(){T("notices-".concat(r,"-").concat(t)).then((function(){return console.log("nascosto")}),(function(e){return console.log(e)}))},children:"X"})})]},"notices-".concat(r,"-").concat(t))}return Object(k.jsx)("tr",{},"notices-".concat(r,"-").concat(t))}))})]}),0===d.length?Object(k.jsx)("p",{children:"Non ci sono avvisi da mostrare!"}):Object(k.jsx)("p",{})]}),Object(k.jsxs)(I.a,{eventKey:"lezioni",title:"Lezioni",children:[Object(k.jsxs)(C.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Insegnamento, Docente, Corso di Studi"}),Object(k.jsx)("th",{children:"Ora"}),Object(k.jsx)("th",{children:"Luogo"}),Object(k.jsx)("th",{children:"Rimuovi"})]})}),Object(k.jsx)("tbody",{children:f.map((function(e,t){var n=null,c=null,i=null;return 0!==e.length&&(n=e.nome.replace("##",", ").replace("\\n"," ").replace("@",", ").replace("||",""),0!==e.intervallo.length&&(c="".concat(B(e.intervallo[0].oraInizio)," - ").concat(B(e.intervallo[0].oraFine)),0!==e.intervallo[0].luogo.length&&(i=K(e.intervallo[0].luogo[0])))),Object(k.jsxs)("tr",{children:[n?Object(k.jsx)("td",{children:n}):Object(k.jsx)("td",{}),c?Object(k.jsx)("td",{children:c}):Object(k.jsx)("td",{}),i?Object(k.jsx)("td",{children:i}):Object(k.jsx)("td",{}),n?Object(k.jsx)("td",{className:"centerButton",children:Object(k.jsx)(x.a,{variant:"danger",size:"sm","aria-label":"rimuovi",onClick:function(){T("lessons-".concat(r,"-").concat(t)).then((function(){return console.log("nascosto")}),(function(e){return console.log(e)}))},children:"X"})}):Object(k.jsx)("td",{})]},"lessons-".concat(r,"-").concat(t))}))})]}),0===f.length?Object(k.jsx)("p",{children:"Non ci sono lezioni da mostrare!"}):Object(k.jsx)("p",{})]}),Object(k.jsxs)(I.a,{eventKey:"ricevimenti",title:"Ricevimenti",children:[Object(k.jsxs)(C.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Nome"}),Object(k.jsx)("th",{children:"Note"}),Object(k.jsx)("th",{children:"Ora"}),Object(k.jsx)("th",{children:"Luogo"}),Object(k.jsx)("th",{children:"Rimuovi"})]})}),Object(k.jsx)("tbody",{children:y.map((function(e,t){var n=null,c=null,i=null,a=null;return 0!==e.length&&(n=e.nome,c=e.note,0!==e.intervallo.length&&(i="".concat(B(e.intervallo[0].oraInizio)," - ").concat(B(e.intervallo[0].oraFine)),0!==e.intervallo[0].luogo.length&&(a=K(e.intervallo[0].luogo[0])))),Object(k.jsxs)("tr",{children:[n?Object(k.jsx)("td",{children:n}):Object(k.jsx)("td",{}),c?Object(k.jsx)("td",{children:P(c)}):Object(k.jsx)("td",{}),i?Object(k.jsx)("td",{children:i}):Object(k.jsx)("td",{}),a?Object(k.jsx)("td",{children:a}):Object(k.jsx)("td",{}),n?Object(k.jsx)("td",{className:"centerButton",children:Object(k.jsx)(x.a,{variant:"danger",size:"sm","aria-label":"rimuovi",onClick:function(){T("officehours-".concat(r,"-").concat(t)).then((function(){return console.log("nascosto")}),(function(e){return console.log(e)}))},children:"X"})}):Object(k.jsx)("td",{})]},"officehours-".concat(r,"-").concat(t))}))})]}),0===y.length?Object(k.jsx)("p",{children:"Non ci sono ricevimenti da mostrare!"}):Object(k.jsx)("p",{})]})]})]})},H=function(e){return new Date(e).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"})},F=function(e){return"".concat(e.tipo," ").concat(e.nome,", Ca' Vignal ").concat(e.idEdificio)},U=function(e){var t=document.createElement("p");return t.innerHTML=e,t.innerText},V=function(e){var t=Object(c.useState)((function(){var t=localStorage.getItem("date");return t?JSON.parse(t).date:e.date})),n=Object(u.a)(t,2),r=n[0],i=(n[1],Object(c.useState)([])),a=Object(u.a)(i,2),s=a[0],d=a[1],h=Object(c.useState)([]),b=Object(u.a)(h,2),O=b[0],p=b[1],f=Object(c.useState)([]),v=Object(u.a)(f,2),g=v[0],m=v[1],y=Object(c.useState)(0),w=Object(u.a)(y,2),z=w[0],L=w[1];function E(e){return D.apply(this,arguments)}function D(){return(D=Object(l.a)(o.a.mark((function t(n){var c,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.user){t.next=2;break}return t.abrupt("return");case 2:c=n.split("-")[0],i=null,t.t0=c,t.next="notices"===t.t0?7:"lessons"===t.t0?9:"officehours"===t.t0?11:13;break;case 7:return i=s[n[n.length-1]],t.abrupt("break",15);case 9:return i=O[n[n.length-1]],t.abrupt("break",15);case 11:return i=g[n[n.length-1]],t.abrupt("break",15);case 13:return console.log("evento non trovato"),t.abrupt("break",15);case 15:S.removeEvent(e.user.username,r,c,i).then((function(e){console.log(e.status)})).catch((function(e){console.log(e)})),L(z+1);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(){return(T=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.selectedDate(r),e.history.push("/");case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){function t(){return(t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",S.getHidedInfo(e.user.username,r).then((function(e){var t=e.data,n=[],c=[],r=[];for(var i in t){var a=t[i].tipo,o=t[i].info;"notices"===a?n.push(o):"lessons"===a?c.push(o):"officehours"===a&&r.push(o)}d(n),p(c),m(r)})).catch((function(e){console.log(e),d([]),p([]),m([])})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().then((function(){return console.log("eseguito")}),(function(e){return console.log(e)}))}),[z]),Object(k.jsxs)(j.a,{children:[Object(k.jsxs)("h1",{children:["Ciao, ",e.user.username,"!"]}),Object(k.jsx)("p",{children:"Se hai cambiato idea sulla rimozione di questi eventi puoi annullare l'azione cliccando sui pulsanti nella colonna 'Annulla'."}),Object(k.jsx)("p",{children:"Quando hai finito torna indietro oppure clicca sul pulsante 'Fine' sottostante per tornare alla pagina degli eventi."}),Object(k.jsx)("p",{children:Object(k.jsx)(x.a,{onClick:function(){return function(){return T.apply(this,arguments)}().then((function(){return console.log("fine")}),(function(e){return console.log(e)}))},children:"Fine"})}),Object(k.jsxs)(N.a,{defaultActiveKey:"avvisi",id:"events-tabs",children:[Object(k.jsxs)(I.a,{eventKey:"avvisi",title:"Avvisi",children:[Object(k.jsxs)(C.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Data di pubblicazione"}),Object(k.jsx)("th",{children:"Titolo"}),Object(k.jsx)("th",{children:"Testo"}),Object(k.jsx)("th",{children:"Mittenti"}),Object(k.jsx)("th",{children:"Annulla"})]})}),Object(k.jsx)("tbody",{children:s.map((function(e,t){if(0!==e.length){var n=new Date(e.dataPubblicazione).toLocaleString(navigator.language,{weekday:"long",year:"numeric",month:"long",day:"numeric"});return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:n}),Object(k.jsx)("td",{children:e.titolo}),Object(k.jsx)("td",{children:U(e.testo)}),Object(k.jsx)("td",{children:e.mittenti}),Object(k.jsx)("td",{className:"centerButton",children:Object(k.jsx)(x.a,{variant:"success",size:"sm","aria-label":"annulla",onClick:function(){E("notices-".concat(r,"-").concat(t)).then((function(){return console.log("ripristinato")}),(function(e){return console.log(e)}))},children:"+"})})]},"notice-".concat(r,"-").concat(t))}return Object(k.jsx)("tr",{},"notice-".concat(r,"-").concat(t))}))})]}),0===s.length?Object(k.jsx)("p",{children:"Non ci sono avvisi da mostrare!"}):Object(k.jsx)("p",{})]}),Object(k.jsxs)(I.a,{eventKey:"lezioni",title:"Lezioni",children:[Object(k.jsxs)(C.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Insegnamento, Docente, Corso di Studi"}),Object(k.jsx)("th",{children:"Ora"}),Object(k.jsx)("th",{children:"Luogo"}),Object(k.jsx)("th",{children:"Annulla"})]})}),Object(k.jsx)("tbody",{children:O.map((function(e,t){var n=null,c=null,i=null;return 0!==e.length&&(n=e.nome.replace("##",", ").replace("\\n"," ").replace("@",", ").replace("||",""),0!==e.intervallo.length&&(c="".concat(H(e.intervallo[0].oraInizio)," - ").concat(H(e.intervallo[0].oraFine)),0!==e.intervallo[0].luogo.length&&(i=F(e.intervallo[0].luogo[0])))),Object(k.jsxs)("tr",{children:[n?Object(k.jsx)("td",{children:n}):Object(k.jsx)("td",{}),c?Object(k.jsx)("td",{children:c}):Object(k.jsx)("td",{}),i?Object(k.jsx)("td",{children:i}):Object(k.jsx)("td",{}),n?Object(k.jsx)("td",{className:"centerButton",children:Object(k.jsx)(x.a,{variant:"success",size:"sm","aria-label":"annulla",onClick:function(){E("lessons-".concat(r,"-").concat(t)).then((function(){return console.log("ripristinato")}),(function(e){return console.log(e)}))},children:"+"})}):Object(k.jsx)("td",{})]},"lesson-".concat(r,"-").concat(t))}))})]}),0===O.length?Object(k.jsx)("p",{children:"Non ci sono lezioni da mostrare!"}):Object(k.jsx)("p",{})]}),Object(k.jsxs)(I.a,{eventKey:"ricevimenti",title:"Ricevimenti",children:[Object(k.jsxs)(C.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(k.jsx)("thead",{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{children:"Nome"}),Object(k.jsx)("th",{children:"Note"}),Object(k.jsx)("th",{children:"Ora"}),Object(k.jsx)("th",{children:"Luogo"}),Object(k.jsx)("th",{children:"Annulla"})]})}),Object(k.jsx)("tbody",{children:g.map((function(e,t){var n=null,c=null,i=null,a=null;return 0!==e.length&&(n=e.nome,c=e.note,0!==e.intervallo.length&&(i="".concat(H(e.intervallo[0].oraInizio)," - ").concat(H(e.intervallo[0].oraFine)),0!==e.intervallo[0].luogo.length&&(a=F(e.intervallo[0].luogo[0])))),Object(k.jsxs)("tr",{children:[n?Object(k.jsx)("td",{children:n}):Object(k.jsx)("td",{}),c?Object(k.jsx)("td",{children:U(c)}):Object(k.jsx)("td",{}),i?Object(k.jsx)("td",{children:i}):Object(k.jsx)("td",{}),a?Object(k.jsx)("td",{children:a}):Object(k.jsx)("td",{}),n?Object(k.jsx)("td",{className:"centerButton",children:Object(k.jsx)(x.a,{variant:"success",size:"sm","aria-label":"annulla",onClick:function(){E("officehours-".concat(r,"-").concat(t)).then((function(){return console.log("ripristinato")}),(function(e){return console.log(e)}))},children:"+"})}):Object(k.jsx)("td",{})]},"officehours-".concat(r,"-").concat(t))}))})]}),0===g.length?Object(k.jsx)("p",{children:"Non ci sono ricevimenti da mostrare!"}):Object(k.jsx)("p",{})]})]})]})},G=(new Date).toISOString().split("T")[0];var J=function(){var e=Object(c.useState)((function(){var e=localStorage.getItem("user");return e?JSON.parse(e):null})),t=Object(u.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(G),a=Object(u.a)(i,2),p=a[0],x=a[1];function f(){return v.apply(this,arguments)}function v(){return(v=Object(l.a)(o.a.mark((function e(){var t,n=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:null,r(t),localStorage.setItem("user",JSON.stringify(t));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(null),localStorage.clear();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return y.apply(this,arguments)}function y(){return(y=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(t),localStorage.setItem("date",JSON.stringify({date:t}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){document.title=n?"Pagina iniziale - ".concat(n.username," - Eventi UniVR"):"Pagina iniziale - Eventi UniVR"}),[n]),Object(k.jsxs)("div",{className:"App",role:"main",children:[Object(k.jsx)(h.a,{expand:"lg",bg:"light",variant:"light",children:Object(k.jsxs)(j.a,{children:[Object(k.jsx)(h.a.Brand,{href:"https://zampierida98.github.io/eventi-univr/",children:"Eventi UniVR"}),Object(k.jsx)(h.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(k.jsxs)(h.a.Collapse,{id:"responsive-navbar-nav",children:[Object(k.jsx)(d.a,{className:"me-auto",children:n?Object(k.jsxs)(h.a.Text,{children:["Sei registrato come: ",n.username]}):Object(k.jsx)(b.b,{to:"/signup",className:"navLink",children:"Registrati"})}),Object(k.jsx)(d.a,{children:n?Object(k.jsx)(d.a.Link,{onClick:function(){return g.apply(this,arguments)},href:"https://zampierida98.github.io/eventi-univr/",children:"Esci"}):Object(k.jsx)(b.b,{to:"/login",className:"navLink",children:"Accedi"})})]})]})}),Object(k.jsxs)(O.c,{children:[Object(k.jsx)(O.a,{exact:!0,path:"/",render:function(e){return n?Object(k.jsx)(q,Object(s.a)(Object(s.a)({},e),{},{user:n,date:p,selectedDate:m})):Object(k.jsx)(A,Object(s.a)(Object(s.a)({},e),{},{selectedDate:m}))}}),Object(k.jsx)(O.a,{path:"/login",render:function(e){return Object(k.jsx)(w,Object(s.a)(Object(s.a)({},e),{},{login:f}))}}),Object(k.jsx)(O.a,{path:"/signup",render:function(e){return Object(k.jsx)(z,Object(s.a)(Object(s.a)({},e),{},{login:f}))}}),Object(k.jsx)(O.a,{path:"/hidedInfo",render:function(e){return n?Object(k.jsx)(V,Object(s.a)(Object(s.a)({},e),{},{user:n,date:p,selectedDate:m})):Object(k.jsx)(A,Object(s.a)(Object(s.a)({},e),{},{selectedDate:m}))}})]})]})};document.documentElement.lang="it",i.a.render(Object(k.jsx)(b.a,{children:Object(k.jsx)(J,{})}),document.getElementById("root"))},79:function(e,t,n){}},[[144,1,2]]]);
//# sourceMappingURL=main.879135af.chunk.js.map